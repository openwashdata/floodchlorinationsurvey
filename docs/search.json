[{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md - OpenWashData R Package Review Guide","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"guide helps Claude Code review R data packages openwashdata organization, ensuring consistency, quality, completeness across published datasets.","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"review process follows PLAN → CREATE → TEST → DEPLOY workflow. entire review process starts package dev branch, issues resolved final PR dev main created. phase requires explicit user approval proceeding. CRITICAL WORKFLOW RULE: Claude MUST stop completing individual issue. user must manually restart Claude next issue.","code":""},{"path":[]},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"id_1-plan-phase","dir":"","previous_headings":"Review Workflow","what":"1. PLAN Phase","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"initiated via /review-package [package-name], Claude : Verify package created washr template Check required directories: R/, data/, data-raw/, inst/extdata/, man/ Confirm presence key files: DESCRIPTION, README.Rmd, _pkgdown.yml Issue 1 (General Information & Metadata) created initially Subsequent issues created previous PRs merged ensures issue builds completed changes Issue 1: General Information & Metadata Issue 2: Data Content & Processing (created Issue 1 merged) Issue 3: Documentation (created Issue 2 merged) Issue 4: Tests & CI/CD (created Issue 3 merged) Summary findings List issues addressed Request user confirmation proceeding","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"id_2-create-phase","dir":"","previous_headings":"Review Workflow","what":"2. CREATE Phase","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"user approval, work issues ONE TIME. SEQUENTIAL WORKFLOW: 1. User runs /review-package start - Issue #1 created 2. User reviews Issue #1 GitHub confirms readiness 3. User runs /review-issue 1 work Issue #1 4. Claude presents planned changes waits user confirmation 5. user approval, Claude creates new branch dev 6. Claude implements changes issue 7. Claude commits changes descriptive message 8. Claude creates PR dev branch (main!) 9. CLAUDE MUST STOP COMPLETELY - proceed next issue 10. User reviews PR, merges dev 11. User runs /create-next-issue create Issue #2 12. Repeat steps 2-11 subsequent issue CRITICAL: Claude MUST automatically continue next issue. workflow STOPS creating PR.","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"issue-1-general-information--metadata","dir":"","previous_headings":"Review Workflow > 2. CREATE Phase","what":"Issue 1: General Information & Metadata","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Claude must check items completed update issue Title (descriptive, <65 characters) Description (clear purpose statement) Authors ORCID IDs License: CC 4.0 Dependencies properly declared Version follows semantic versioning CITATION.cff file present valid Generate citation using washr::update_citation()","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"issue-2-data-content--processing","dir":"","previous_headings":"Review Workflow > 2. CREATE Phase","what":"Issue 2: Data Content & Processing","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Data files data/ directory (.rda format) CSV/XLSX exports inst/extdata/ Main dataset accessible via function matching package name unexpected missing values Consistent data types Reasonable value ranges Proper encoding (UTF-8) data_processing.R data-raw/ Script reproducible well-commented Raw data files preserved data-raw/ dictionary.csv variable descriptions Uses tidyverse conventions Handles data cleaning transparently Analysis testing scripts preserved analysis/ directory","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"issue-3-documentation","dir":"","previous_headings":"Review Workflow > 2. CREATE Phase","what":"Issue 3: Documentation","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Dynamic content generation Installation instructions Data overview dimensions Variable dictionary table License citation sections Roxygen documentation exported functions _pkgdown.yml configured standard openwashdata template Package website builds without errors","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"issue-4-tests--cicd","dir":"","previous_headings":"Review Workflow > 2. CREATE Phase","what":"Issue 4: Tests & CI/CD","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Add GitHub Actions workflow R-CMD-check Add R-CMD-check badge README.Rmd Package passes devtools::check() errors/warnings Examples run successfully Data loads correctly MANDATORY PROCESS ISSUE: 1. Present planned changes request user confirmation implementing - ALWAYS WAIT explicit user approval (yes//edit) proceeding 2. Create feature branch dev (e.g., issue-1-metadata) 3. Implement changes regular check-ins: - checklist item major change: - Announce specific change - Implement - Show result - CHECK-: “Ready commit change? (commit/continue)” - “commit”: Create atomic commit change 4. Run tests changes 5. Update GitHub issue check completed items: - Use gh issue view [number] get current issue body - Update checkboxes - [ ] - [x] completed items - Use gh issue edit [number] --body \"[updated body]\" save 6. Create PR detailed summary including commits: ``` gh pr create –base dev –title “Fix Issue #1: [Description]” –body “## Summary Addresses Issue #[number] ## Changes Made - [Specific changes] ## Completed Checklist Items - [x] Item 1 - [x] Item 2 Closes #[number]” ``7. **STOP IMMEDIATELY** - Output: \"✅ PR created Issue #1. Issue checklist updated. Please review merge, run/review-issue 2` continue.” 8. PROCEED issue","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"id_3-test-phase","dir":"","previous_headings":"Review Workflow","what":"3. TEST Phase","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Run comprehensive package checks: Verify: - tests pass - R CMD check issues - Documentation renders correctly - Website builds successfully","code":"devtools::check() devtools::build() pkgdown::build_site()"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"id_4-deploy-phase","dir":"","previous_headings":"Review Workflow","what":"4. DEPLOY Phase","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Build deploy pkgdown website Verify Plausible analytics tracking Confirm changes committed Approve PR merge main branch Create release using /create-release command","code":""},{"path":[]},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"required-files-structure","dir":"","previous_headings":"Key Standards","what":"Required Files Structure","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"","code":"package-name/ ├── DESCRIPTION ├── NAMESPACE ├── R/ │   └── package-name.R ├── data/ │   └── package-name.rda ├── data-raw/ │   ├── data_processing.R │   └── dictionary.csv ├── inst/ │   ├── CITATION │   └── extdata/ │       ├── package-name.csv │       └── package-name.xlsx ├── man/ ├── vignettes/                # Optional vignettes directory │   └── articles/             # Always use articles/ subdirectory │       └── example.Rmd       # Keep all vignettes here ├── analysis/                 # Analysis and testing scripts (not built) │   ├── test_package.R │   ├── data_analysis.R │   └── validation.R ├── README.Rmd ├── README.md ├── NEWS.md                   # Package changelog ├── CITATION.cff ├── _pkgdown.yml              # Standard openwashdata configuration ├── .Rbuildignore └── .github/     └── workflows/         └── R-CMD-check.yaml"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"vignettes-convention","dir":"","previous_headings":"Key Standards","what":"Vignettes Convention","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"IMPORTANT: vignettes must stored vignettes/articles/ subdirectory, directly vignettes/. convention: - Ensures vignettes rendered correctly pkgdown - Keeps vignettes separate package documentation - Prevents CRAN submission issues - Maintains consistency across openwashdata packages Example structure:","code":"vignettes/ └── articles/     ├── getting-started.Rmd     ├── data-analysis.Rmd     └── case-study.Rmd"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"r-scripts-for-reproducibility","dir":"","previous_headings":"Key Standards","what":"R Scripts for Reproducibility","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"R scripts used testing, validation, analysis package development must preserved repository reproducibility purposes. scripts stored analysis/ directory package root level.","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"why-analysis-directory","dir":"","previous_headings":"Key Standards > R Scripts for Reproducibility","what":"Why analysis/ directory:","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"included installed package (automatically ignored R CMD build) Available GitHub future reference reproducibility Organized separately package code configuration needed - R automatically excludes top-level directories recognized package components","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"script-organization-in-analysis","dir":"","previous_headings":"Key Standards > R Scripts for Reproducibility","what":"Script Organization in analysis/:","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"test_package.R - Scripts testing package functionality data_analysis.R - Exploratory data analysis scripts validation.R - Data validation quality checks comparison.R - Scripts comparing different data versions analysis utility scripts used development approach ensures analysis work remains transparent reproducible without affecting package installation CRAN compliance.","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"package-dependencies","dir":"","previous_headings":"Key Standards","what":"Package Dependencies","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Common dependencies data packages: - dplyr, tidyr (data manipulation) - readr, readxl (data import) - janitor (data cleaning) - desc (DESCRIPTION parsing) - gt, kableExtra (table formatting) - usethis (development workflows, including NEWS.md versioning)","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"quality-criteria","dir":"","previous_headings":"Key Standards","what":"Quality Criteria","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Reproducibility: data processing steps documented runnable Transparency: Raw data preserved clear transformation pipeline Accessibility: Multiple export formats (R, CSV, XLSX) Documentation: Comprehensive variable descriptions usage examples Consistency: Follows openwashdata naming structure conventions","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"branch-and-pr-strategy","dir":"","previous_headings":"","what":"Branch and PR Strategy","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Package Review Branch Structure: - main - Production branch (protected) - dev - Development branch review work happens - issue-[n]-description - Feature branches issue (created dev) PR Flow: 1. issue gets PR feature branch → dev 2. User reviews merges issue PR dev 3. issues resolved, create final PR dev → main 4. Never create PRs directly main review process","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"commands","dir":"","previous_headings":"","what":"Commands","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"/review-package [package-name] - Start package review (analyzes package creates Issue #1 ) /review-issue [number] - Work specific issue (STOPS creating PR) /create-next-issue - Create next issue sequence (previous PR merged) /review-status - Check current review progress /review-complete - issues merged dev, create final PR main /create-release [version] - Create new release changelog","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"issue-resolution-workflow","dir":"","previous_headings":"","what":"Issue Resolution Workflow","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"working issue via /review-issue [number]: Branch - Create feature branch dev: git checkout -b issue-[number]-description Analyze - Review specific issue requirements checklist items Present analysis needs done CHECK-#1: “’s found. proceed changes? (yes/)” Implement Changes Stages Announce ’re Make change Show result CHECK-: “Change completed. Ready commit? Type ‘commit’ save change, ‘continue’ make changes.” user says “commit”: Run git add -&& git commit -m \"Description specific change\" Repeat significant change Test - changes, verify everything works Run relevant tests (devtools::check(), build_readme(), etc.) CHECK-: “tests passed. Ready finalize? (yes/)” Update Issue - Check completed items issue checklist Use gh issue view [number] get current issue body Update checkboxes - [ ] - [x] completed items Use gh issue edit [number] --body \"[updated body]\" save CHECK-: “Issue checklist updated. Ready create PR? (yes/)” Final Commit (uncommitted changes) git add -&& git commit -m \"Final updates Issue #[number]\" Push - Push branch: git push -u origin issue-[number]-description Create PR - ALWAYS dev detailed body: STOP COMPLETELY - Output final message cease activity CRITICAL STOPPING BEHAVIOR: - creating PR, Claude MUST output: “✅ PR created Issue #[number]. Please review merge dev, run /review-issue [next-number] continue next issue.” - Claude MUST continue tasks - Claude MUST suggest next steps - Claude MUST start working next issue - conversation effectively ends user explicitly restarts /review-issue [next-number]","code":"gh pr create --base dev --title \"Fix Issue #[number]: [description]\" --body \"## Summary Addresses Issue #[number]  ## Changes Made - [List specific changes made] - [Include which checklist items were completed]  ## Commits in this PR - [List each commit message]  ## Checklist - [x] Item 1 completed - [x] Item 2 completed - [ ] Item 3 (if not completed, explain why)  Closes #[number]\""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"check-in-points-and-commit-strategy","dir":"","previous_headings":"","what":"Check-In Points and Commit Strategy","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Claude MUST pause check-points: analyzing issue requirements making changes Ask: “’s plan : [list]. proceed? (yes/)” significant change (e.g., checklist item) Show changed Ask: “Ready commit change? (commit/continue)” “commit”: Create atomic commit descriptive message running tests Show test results Ask: “tests passed. Ready finalize? (yes/)” updating issue checkboxes creating PR Ask: “Issue updated. Ready create PR? (yes/)” Commit Guidelines: - commit atomic (one logical change) - Use descriptive commit messages - Multiple small commits preferred one large commit - Example messages: - “Update DESCRIPTION title description” - “Add ORCID IDs authors” - “Configure CC 4.0 license” - “Update CITATION washr::update_citation()”","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"example-issue-by-issue-workflow","dir":"","previous_headings":"","what":"Example Issue-by-Issue Workflow","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"","code":"User: /review-issue 1 Claude: [Creates branch issue-1-metadata]         \"I'll work on Issue #1: General Information & Metadata. Here's what needs to be done:         - Update DESCRIPTION file         - Fix CITATION.cff         - Generate citation with washr          Should I proceed? (yes/no)\"  User: yes Claude: \"Starting with DESCRIPTION file updates...\"         [Shows DESCRIPTION changes]         \"✅ DESCRIPTION updated. Ready to commit? (commit/continue)\"  User: commit Claude: [Commits: \"Update DESCRIPTION file metadata\"]         \"Now working on CITATION.cff...\"         [Shows CITATION.cff changes]         \"✅ CITATION.cff created. Ready to commit? (commit/continue)\"  User: commit Claude: [Commits: \"Add CITATION.cff file\"]         \"Running washr::update_citation()...\"         [Shows result]         \"✅ Citation updated. Ready to commit? (commit/continue)\"  User: commit Claude: [Commits: \"Update CITATION with washr\"]         [Updates Issue #1 checkboxes]         [Creates PR with 3 commits listed]         \"✅ PR created for Issue #1 with 3 commits. Issue checklist updated. Please review and merge to dev, then run `/review-issue 2` to continue.\"         [STOPS COMPLETELY]  [Repeat for all 4 issues]  User: /review-complete Claude: [Creates final PR from dev to main]         \"✅ All issues resolved. Final PR created from dev to main for package review completion.\"  [After PR merged to main]  User: /create-release 0.1.0 Claude: [Updates version, creates NEWS.md entry, tags release]         \"✅ Release v0.1.0 created with changelog. Package published!\""},{"path":[]},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"creating-a-release-with-create-release-version","dir":"","previous_headings":"Release Management","what":"Creating a Release with /create-release [version]","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"creating release, Claude : PAUSE: Ask user “proceeding, please ensure repository enabled/synced Zenodo. Zenodo integration enabled repo? (yes/)” : Direct user enable https://zenodo.org/account/settings/github/ Use usethis::use_version() bump version DESCRIPTION Follow semantic versioning (major.minor.patch) Update version field match new version Update date-released current date Run washr::update_citation() sync citation files Verify version consistency across DESCRIPTION, CITATION, CITATION.cff Use usethis::use_news_md() NEWS.md doesn’t exist Add new version section release date Include summary changes recent commits/PRs Format following tidyverse NEWS conventions: Commit message: “Release version [version]” Include updates DESCRIPTION, CITATION.cff, NEWS.md Push main branch Use gh release create v[version] Include NEWS.md content release notes Tag release commit Zenodo automatically generates DOI step PAUSE: Ask user “GitHub release created! Please check Zenodo generated DOI provide (format: 10.5281/zenodo.XXXXXXX):” Add Zenodo badge README.Rmd: [![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.XXXXXXX.svg)](https://doi.org/10.5281/zenodo.XXXXXXX) Run washr::update_citation(doi = \"10.5281/zenodo.XXXXXXX\") provided DOI Update citation files include DOI Commit message: “Add Zenodo DOI package” Push DOI updates main Rebuild site include new version DOI badge Deploy updated documentation","code":"# packagename 0.1.0  * Initial release to GitHub * Added core functionality for X (#1) * Fixed issue with Y (#2) * Enhanced documentation (#3)"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"newsmd-format-guidelines","dir":"","previous_headings":"Release Management","what":"NEWS.md Format Guidelines","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"version gets section version number date Use bullet points changes Reference issue/PR numbers parentheses Group changes type (new features, bug fixes, etc.) recent version top Follow tidyverse style guide NEWS files Example NEWS.md structure:","code":"# washrkenya 0.2.0 (2024-01-15)  ## New features * Added support for temporal analysis (#12) * New vignette on data visualization (#15)  ## Bug fixes * Fixed encoding issues in region names (#10) * Corrected data type for population column (#11)  # washrkenya 0.1.0 (2023-12-01)  * Initial release * Basic data access functions * Documentation and examples"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"important-notes","dir":"","previous_headings":"","what":"Important Notes","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Always request user confirmation phases Check user implementing changes CREATE phase Preserve existing git history commits Follow tidyverse style guide R code Use semantic versioning package versions","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"project-management-with-github-cli","dir":"","previous_headings":"","what":"Project Management with GitHub CLI","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"List issues: gh issue list View issue details: gh issue view 80 (e.g., issue #80 “Rename geographies parameter”) Create branch issue: gh issue develop 80 Checkout branch: git checkout 80-rename-geographies-parameter--entities Create pull request: gh pr create --title \"Rename geographies parameter entities\" --body \"Implements #80\" List pull requests: gh pr list View pull request: gh pr view PR_NUMBER","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"buildtestcheck-commands","dir":"","previous_headings":"","what":"Build/Test/Check Commands","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Build package: R CMD build . Install package: R CMD INSTALL . Run tests: R -e \"devtools::test()\" Run single test: R -e \"devtools::test_file('tests/testthat/test-FILE_NAME.R', reporter = 'progress')\" Run R CMD check: R -e \"devtools::check()\" Build Roxygen2 documentation: R -e \"devtools::document()\" Build vignettes: R -e \"devtools::build_vignettes()\" Build README.md README.Rmd: R -e \"devtools::build_readme()\"","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"standard-_pkgdownyml-configuration","dir":"","previous_headings":"","what":"Standard _pkgdown.yml Configuration","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"openwashdata packages must use following standard _pkgdown.yml configuration (replace packagename actual package name): Key elements: - URL must point correct GitHub repository - Bootstrap 5 theme required - Plausible analytics script header - Consistent sidebar structure funding acknowledgment - Standard author role display - Reference section data access function","code":"url: https://github.com/openwashdata/packagename template:   bootstrap: 5   includes:     in_header: |       <script defer data-domain=\"openwashdata.github.io\" src=\"https://plausible.io/js/script.js\"><\/script>  home:   links:     - icon: github       text: GitHub repository       href: https://github.com/openwashdata/packagename   sidebar:     structure: [links, citation, authors, dev, custom]     components:       custom:         title: Funding         text: This project was funded by the [Open Research Data Program of the ETH Board](https://ethrat.ch/en/eth-domain/open-research-data/).  authors:   footer:     roles: [cre, fnd]     text: \"Crafted by\"   sidebar:     roles: [cre, aut, ctb]     before: \"So *who* does the work?\"     after: \"Thanks all!\"  reference: - title: \"Data\"   desc: \"Access the packagename dataset\"   contents:   - packagename"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/CLAUDE.html","id":"code-style-guidelines","dir":"","previous_headings":"","what":"Code Style Guidelines","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Use 2 spaces indentation (tabs) Maximum 80 characters per line Use tidyverse style R code (dplyr, tidyr, purrr) Use snake_case function variable names","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Emmanuel Mhango. Author, maintainer. Evance. Contributor. Julius Kutaumbe. Contributor. Eramore. Contributor. Patrick Katholowamo. Contributor. Rashid Kumbu. Contributor. Mkangara. Contributor. Benja Moree. Contributor. Rober Gerald. Contributor. Olipa. Contributor. Laurent CT Levesque. Contributor. Shaun MacLeod. Contributor. Davie Selenje. Contributor. Mayamiko Jumbe. Contributor. Given Nyasulu. Contributor.","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Mhango E (2025). “floodchlorinationsurvey: USAID Flood Response Rehabilitation Chlorination Survey.” doi:10.5281/zenodo.15846578, https://github.com/openwashdata/floodchlorinationsurvey.","code":"@Misc{mhango:2025,   title = {floodchlorinationsurvey: USAID Flood Response Rehabilitation and Chlorination Survey},   author = {Emmanuel Mhango},   year = {2025},   doi = {10.5281/zenodo.15846578},   url = {https://github.com/openwashdata/floodchlorinationsurvey},   abstract = {This R package provides tools for analyzing and visualizing data from the USAID Flood Response Rehabilitation and Chlorination Survey conducted in Mulanje, Malawi (2019–2020). It includes functions to assess handpump component replacements, evaluate changes in functionality before and after rehabilitation, and identify common repair trends using mWater-collected data.},   version = {0.1.0}, }"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/index.html","id":"usaid-flood-response-rehabilitation-and-chlorination-survey","dir":"","previous_headings":"","what":"USAID Flood Response Rehabilitation and Chlorination Survey","title":"USAID Flood Response Rehabilitation and Chlorination Survey","text":"dataset originates USAID Flood Response Rehabilitation Chlorination Survey, conducted 2019 2020 Mulanje District, Malawi. data collected using mWater mobile platform field teams working assess, rehabilitate, chlorinate rural handpump-equipped water points affected flooding. dataset includes detailed records : Borehole component condition rehabilitation Chlorination activities Community mobilization Environmental risks near water points Functionality status water access metrics post-rehabilitation Photos GPS coordinates embedded via cloud-linked URLs provide visual spatial evidence rehabilitation process. Potential Use Cases WASH Program Monitoring Evaluation Track impact rehabilitation efforts water point functionality. Monitor effectiveness chlorination flood-prone regions. Infrastructure Asset Management Identify components frequently requiring replacement. Schedule preventive maintenance prioritize resources. Disaster Response Planning Map flood-affected water infrastructure assess repair timelines. Use historical damage repair data prepare future climate shocks. Public Health Risk Assessment Analyze relationship water source integrity contamination risks (e.g., proximity latrines cemeteries). Policy Program Design Guide government donor decisions invest resilient rural water systems. Training Capacity Building Use data photos case studies training technicians water committees. Potential Users data Government agencies (e.g., Ministry Water, District Water Offices) NGOs implementing partners involved WASH emergency response Donor agencies USAID, assess project outcomes guide future funding Researchers public health analysts studying impacts infrastructure damage recovery Water point mechanics private sector suppliers, inform maintenance procurement planning Community-based organizations (CBOs) Water Point Committees, local monitoring advocacy","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"USAID Flood Response Rehabilitation and Chlorination Survey","text":"can install development version floodchlorinationsurvey GitHub : Alternatively, can download individual datasets CSV XLSX file table . Click Download CSV. window opens displays CSV browser. Right-click anywhere inside window select “Save Page …”. Save file folder choice.","code":"# install.packages(\"devtools\") devtools::install_github(\"openwashdata/floodchlorinationsurvey\") ## Run the following code in console if you don't have the packages ## install.packages(c(\"dplyr\", \"knitr\", \"readr\", \"stringr\", \"gt\", \"kableExtra\")) library(dplyr) library(knitr) library(readr) library(stringr) library(gt) library(kableExtra)"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/index.html","id":"data","dir":"","previous_headings":"","what":"Data","title":"USAID Flood Response Rehabilitation and Chlorination Survey","text":"package provides access USAID Flood Response Rehabilitation Chlorination Survey, conducted 2019 2020 Mulanje District, Malawi.","code":"library(floodchlorinationsurvey)"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/index.html","id":"floodchlorinationsurvey","dir":"","previous_headings":"Data","what":"floodchlorinationsurvey","title":"USAID Flood Response Rehabilitation and Chlorination Survey","text":"dataset floodchlorinationsurvey contains 328 observations 118 variables overview variable names, see following table.","code":"floodchlorinationsurvey |>    head(3) |>    gt::gt() |>   gt::as_raw_html()"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"USAID Flood Response Rehabilitation and Chlorination Survey","text":"","code":"library(floodchlorinationsurvey)  # Visualization: Most Frequently Replaced Components # Purpose:  Highlight common mechanical failures.   # Load libraries library(dplyr) library(tidyr) library(ggplot2)  # Define the replacement tick variables (TRUE/FALSE indicating part was replaced) tick_vars <- c(   \"replaced_rods_tick\", \"replaced_flapper_tick\", \"replaced_handle_tick\",   \"replaced_cylinder_tick\", \"replaced_socket_tick\", \"replaced_rope_tick\",   \"replaced_footvalve_bobbin_tick\", \"replaced_footvalve_body_tick\",   \"replaced_plunger_bobbin_tick\", \"replaced_plunger_body_tick\",   \"replaced_rodhanger_tick\", \"replaced_head_bolt_tick\",   \"replaced_compression_cone_tick\", \"replaced_pump_head_case_tick\",   \"replaced_pump_head_cover_tick\", \"replaced_rising_main_tick\",   \"replaced_fulcrum_pin_tick\", \"replaced_fulcrum_bearings_tick\",   \"replaced_hanger_pin_tick\", \"replaced_hanger_bearings_tick\",   \"replaced_steel_cone_tick\", \"replaced_top_sleeve_tick\",   \"replaced_rod_centralisers_tick\", \"replaced_rising_centralisers_tick\" )  # Count how many times each component was marked as replaced (TRUE) component_freq <- floodchlorinationsurvey %>%   # Select only the replacement tick columns   select(all_of(tick_vars)) %>%   # Summarise to count how many TRUEs per column   summarise(across(everything(), ~ sum(. == TRUE, na.rm = TRUE))) %>%   # Reshape the summary to long format: component | count   pivot_longer(cols = everything(),                 names_to = \"component\",                 values_to = \"count\") %>%   # Sort in descending order by count   arrange(desc(count))  # Clean component names for better readability component_freq$component <- gsub(\"replaced_|_tick\", \"\", component_freq$component)  # Remove prefixes/suffixes component_freq$component <- gsub(\"_\", \" \", component_freq$component)               # Replace underscores with spaces component_freq$component <- tools::toTitleCase(component_freq$component)           # Capitalize each word  # Create a horizontal bar chart ggplot(component_freq, aes(x = count, y = reorder(component, count))) +   geom_bar(stat = \"identity\", fill = \"#2a9d8f\") +     labs(     title = \"Most Frequently Replaced Handpump Components\",     x = \"Number of Replacements\",     y = \"Component\"   ) +   theme_minimal(base_size = 13)"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"USAID Flood Response Rehabilitation and Chlorination Survey","text":"Data available CC-.","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"USAID Flood Response Rehabilitation and Chlorination Survey","text":"Please cite package using:","code":"citation(\"floodchlorinationsurvey\") #> Um Paket 'floodchlorinationsurvey' in Publikationen zu zitieren, nutzen #> Sie bitte: #>  #>   Mhango E (2025). \"floodchlorinationsurvey: USAID Flood Response #>   Rehabilitation and Chlorination Survey.\" doi:10.5281/zenodo.15846578 #>   <https://doi.org/10.5281/zenodo.15846578>, #>   <https://github.com/openwashdata/floodchlorinationsurvey>. #>  #> Ein BibTeX-Eintrag für LaTeX-Benutzer ist #>  #>   @Misc{mhango:2025, #>     title = {floodchlorinationsurvey: USAID Flood Response Rehabilitation and Chlorination Survey}, #>     author = {Emmanuel Mhango}, #>     year = {2025}, #>     doi = {10.5281/zenodo.15846578}, #>     url = {https://github.com/openwashdata/floodchlorinationsurvey}, #>     abstract = {This R package provides tools for analyzing and visualizing data from the USAID Flood Response Rehabilitation and Chlorination Survey conducted in Mulanje, Malawi (2019–2020). It includes functions to assess handpump component replacements, evaluate changes in functionality before and after rehabilitation, and identify common repair trends using mWater-collected data.}, #>     version = {0.1.0}, #>   }"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/reference/floodchlorinationsurvey.html","id":null,"dir":"Reference","previous_headings":"","what":"USAID Flood Response Rehabilitation and Chlorination Survey — floodchlorinationsurvey","title":"USAID Flood Response Rehabilitation and Chlorination Survey — floodchlorinationsurvey","text":"dataset USAID Flood Response Rehabilitation Chlorination Survey, conducted 2019 - 2020, assess rehabilitate flood-affected boreholes Malawi. Using mWater, data collectors captured detailed information condition handpumps, components, water safety risks, impact chlorination repairs. survey part emergency response initiative restore access safe drinking water following flood events.","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/reference/floodchlorinationsurvey.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"USAID Flood Response Rehabilitation and Chlorination Survey — floodchlorinationsurvey","text":"","code":"floodchlorinationsurvey"},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/reference/floodchlorinationsurvey.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"USAID Flood Response Rehabilitation and Chlorination Survey — floodchlorinationsurvey","text":"tibble 328 rows 118 variables submitted_on Date data submitted water_point_name Name water point latitude Latitude coordinate water point longitude Longitude coordinate water point chlorination_rehab_date Date chlorination rehabilitation conducted community_mobilised Indicates whether community mobilized support functional_status_before Functional status water point intervention rating_bolts_nuts Condition rating bolts nuts rating_compression_cone Condition rating compression cone rating_cylinder Condition rating cylinder rating_flapper Condition rating flapper rating_footvalve_bobbin Condition rating footvalve bobbin rating_footvalve_body Condition rating footvalve body rating_footvalve_oring Condition rating footvalve O ring rating_fulcrum_pin Condition rating fulcrum pin rating_fulcrum_bearings Condition rating fulcrum pin bush bearings rating_handle Condition rating pump handle rating_hanger_pin Condition rating hanger pin rating_hanger_bearings Condition rating hanger pin bush bearings rating_head_bolt Condition rating head bolt rating_plunger_bobbin Condition rating plunger bobbin rating_plunger_body Condition rating plunger body rating_plunger_useal Condition rating plunger U seal rating_pump_head_case Condition rating pump head case rating_pump_head_cover Condition rating pump head cover rating_rising_main Condition rating rising main pipe rating_rising_centralisers Condition rating rising main centralisers rating_rods Condition rating connecting rods rating_rod_centralisers Condition rating rod centralisers rating_rodhanger Condition rating rod hanger rating_rope Condition rating rope rating_socket Condition rating socket rating_steel_cone Condition rating steel cone rating_top_sleeve Condition rating top sleeve rod_count Number rods borehole broken_parts_fished_out Indicates whether broken parts retrieved borehole broken_parts_comments Comments broken parts retrieved silt_observed Presence silt parts (Yes/) corrosion_observed Presence corrosion parts (Yes/) slime_observed Presence slime buildup parts (Yes/) rising_main_length_m Length rising main pipe meters rope_attached Indicates whether rope attached rising main photos_of_removed_parts URLs filenames photos showing removed parts pedestal_condition General condition pedestal pedestal_firm pedestal held firmly place? photos_of_civil_work URLs filenames photos showing surrounding infrastructure latrines_within_30m Presence latrines within 30m water point latrines_within_100m Presence latrines within 100m water point cemetery_within_30m Presence cemetery within 30m waste_dumps_within_30m Presence waste dumps within 30m difficult_access_by_car Whether site difficult reach car chlorination_done Indicates whether chlorination conducted parts_chlorinated Indicates whether parts chlorinated parts_chlorinated_unknown TRUE unsure whether parts chlorinated borehole_depth_m Total depth borehole meters water_depth_m Depth water borehole meters chlorine_water_buckets Number 20L buckets chlorine-treated water used hth_dissolved_properly Whether 1g HTH dissolved every 20L water chlorinated_parts_installed chlorinated parts reinstalled treatment? replaced_rising_main_length_m Length rising main pipe replaced (m) replaced_rod_count Number rods replaced replaced_bolts_nuts_tick TRUE bolts nuts replaced replaced_bolts_nuts_count Number bolts nuts replaced replaced_compression_cone_tick TRUE compression cone replaced replaced_compression_cone_count Number compression cones replaced replaced_cylinder_tick TRUE cylinder replaced replaced_cylinder_count Number cylinders replaced replaced_flapper_tick TRUE flapper replaced replaced_flapper_count Number flappers replaced replaced_footvalve_bobbin_tick TRUE footvalve bobbin replaced replaced_footvalve_bobbin_count Number footvalve bobbins replaced replaced_footvalve_body_tick TRUE footvalve body replaced replaced_footvalve_body_count Number footvalve bodies replaced replaced_footvalve_oring_tick TRUE footvalve O-ring replaced replaced_footvalve_oring_count Number O-rings replaced replaced_fulcrum_pin_tick TRUE fulcrum pin replaced replaced_fulcrum_pin_count Number fulcrum pins replaced replaced_fulcrum_bearings_tick TRUE fulcrum bearings replaced replaced_fulcrum_bearings_count Number fulcrum bearings replaced replaced_handle_tick TRUE handle replaced replaced_handle_count Number handles replaced replaced_hanger_pin_tick TRUE hanger pin replaced replaced_hanger_pin_count Number hanger pins replaced replaced_hanger_bearings_tick TRUE hanger bearings replaced replaced_hanger_bearings_count Number hanger bearings replaced replaced_head_bolt_tick TRUE head bolt replaced replaced_head_bolt_count Number head bolts replaced replaced_plunger_bobbin_tick TRUE plunger bobbin replaced replaced_plunger_bobbin_count Number plunger bobbins replaced replaced_plunger_body_tick TRUE plunger body replaced replaced_plunger_body_count Number plunger bodies replaced replaced_plunger_useal_tick TRUE plunger U-seal replaced replaced_plunger_useal_count Number U-seals replaced replaced_pump_head_case_tick TRUE pump head case replaced replaced_pump_head_case_count Number pump head cases replaced replaced_pump_head_cover_tick TRUE pump head cover replaced replaced_pump_head_cover_count Number pump head covers replaced replaced_rising_main_tick TRUE rising main pipe replaced replaced_rising_main_count Number rising main pipes replaced replaced_rising_centralisers_tick TRUE rising main centralisers replaced replaced_rising_centralisers_count Number centralisers replaced replaced_rods_tick TRUE rods replaced replaced_rods_count Number rods replaced replaced_rod_centralisers_tick TRUE rod centralisers replaced replaced_rod_centralisers_count Number rod centralisers replaced replaced_rodhanger_tick TRUE rodhanger replaced replaced_rodhanger_count Number rodhangers replaced replaced_rope_tick TRUE rope replaced replaced_rope_count Number ropes replaced replaced_socket_tick TRUE socket replaced replaced_socket_count Number sockets replaced replaced_steel_cone_tick TRUE steel cone replaced replaced_steel_cone_count Number steel cones replaced replaced_top_sleeve_tick TRUE top sleeve replaced replaced_top_sleeve_count Number top sleeves replaced functionality_after Functional status water point intervention time_to_fill_20l_bucket Time (seconds) took fill 20L bucket strokes_to_yield_water Number strokes required yield water pump","code":""},{"path":[]},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/news/index.html","id":"new-features-0-1-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"floodchlorinationsurvey 0.1.0","text":"Initial release floodchlorinationsurvey package Contains data USAID Flood Response Rehabilitation Chlorination Survey (2019-2020) 328 observations 118 variables documenting handpump rehabilitation Mulanje, Malawi","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/news/index.html","id":"data-quality-improvements-0-1-0","dir":"Changelog","previous_headings":"","what":"Data Quality Improvements","title":"floodchlorinationsurvey 0.1.0","text":"Date columns properly formatted Date type Rating variables standardized numeric type Missing values properly coded NA Data validation checks implemented","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/news/index.html","id":"documentation-0-1-0","dir":"Changelog","previous_headings":"","what":"Documentation","title":"floodchlorinationsurvey 0.1.0","text":"Comprehensive variable documentation 118 variables README installation instructions usage example pkgdown website Plausible analytics CITATION.cff file proper academic citation","code":""},{"path":"https://github.com/openwashdata/floodchlorinationsurvey/news/index.html","id":"infrastructure-0-1-0","dir":"Changelog","previous_headings":"","what":"Infrastructure","title":"floodchlorinationsurvey 0.1.0","text":"GitHub Actions CI/CD workflow configured R CMD check passes 0 errors, 0 warnings Multi-platform testing enabled (Ubuntu, macOS, Windows) CC 4.0 license","code":""}]
